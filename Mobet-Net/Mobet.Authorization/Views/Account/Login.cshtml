@model IdentityServer3.Core.ViewModels.LoginViewModel
@{
    ViewBag.Title = L("账号登录");
    Layout = null;
    List<IdentityServer3.Core.Configuration.LoginPageLink> AdditionalLinks = Model.AdditionalLinks == null ? new List<IdentityServer3.Core.Configuration.LoginPageLink>() : Model.AdditionalLinks.ToList();
    if (string.IsNullOrWhiteSpace(Model.LoginUrl)) { return; }
}
@* This is essentially a copy of the embedded HTML that comes from IdSvr, adapted to access the Model server-side *@
<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="小米帐号能使用小米手机，MIUI，小米云，多看阅读，米聊，小米社区等小米服务。" />
    <meta name="keywords" content="小米帐号，小米账号，小米注册，注册，Mi Account，Sign in，小米，帐号，账号，小米帐户，登录，登陆，安全令牌，动态口令，小米注册，找回密码" />
    <title>@ViewBag.Title - 我的 ASP.NET 应用程序</title>


    <link href="~/Content/account.css" rel="stylesheet" />
    <script src="~/Content/jquery.min.js"></script>
    <script src="~/Content/account.js"></script>
</head>
<body>
    <div class="wrapper">
        <div class="wrap">
            <div class="layout" id="layout">
                <div class="mainbox" id="login-main">
                    <div><a class="ercode" id="qrcode-trigger" href="javascript:void(0);"></a></div>
                    <div class="lgnheader">
                        <div class="header_tit t_c">
                            <h4 class="header_tit_txt" id="login-title">@ViewBag.Title</h4>
                            <div class="site_info"></div>
                        </div>
                    </div>
                    <div id="login_box">
                        <div class="login_area">
                            <form action="@Model.LoginUrl" id="login-main-form" method="post">
                                <input type="hidden" name="@Model.AntiForgery.Name" value="@Model.AntiForgery.Value" />
                                <div class="loginbox c_b">
                                    <div class="lgn_inputbg c_b">
                                        <label class="labelbox c_b" id="label_account">
                                            <input class="item_account" autocomplete="off" type="text" name="Username" id="user_account" placeholder="邮箱 / 手机号码 / 帐号">
                                        </label>
                                        <label class="labelbox c_b" id="label_password">
                                            <input type="password" placeholder="密码" name="Password" id="password">
                                        </label>
                                    </div>

                                    <div class="err_tip" id="error-outcon">
                                        @if (!string.IsNullOrWhiteSpace(Model.ErrorMessage))
                                        {
                                            <div class="dis_box"><em class="icon_error"></em><span class="error-con">@Model.ErrorMessage</span></div>
                                        }
                                    </div>


                                    <div class="btns_bg">
                                        <input class="btnadpt btn_red" id="login-button" type="submit" value="立即登录">
                                        <span id="custom_display_8" class="sns-default-container sns_default_container" style="display: none;">
                                        </span>
                                    </div>
                                    <div style="display: block;" class="other_login_type sns-login-container" id="custom_display_16">
                                        <fieldset class="oth_type_tit">
                                            <legend class="oth_type_txt">其他方式登录</legend>
                                        </fieldset>
                                        <div class="oth_type_links">
                                            @foreach (var provider in Model.ExternalProviders)
                                            {
                                                if (provider.Type.ToUpper() == "WECHAT")
                                                {
                                                    <a class="icon_type btn_weixin sns-login-link" data-type="@provider.Type" href="@provider.Href" title="@provider.Text"><i class="btn_sns_icontype icon_default_weixin"></i></a>
                                                }
                                                if (provider.Type.ToUpper() == "QQ")
                                                {
                                                    <a class="icon_type btn_qq sns-login-link" data-type="@provider.Type" href="@provider.Href" title="@provider.Text" target="_blank"><i class="btn_sns_icontype icon_default_qq"></i></a>
                                                }
                                                if (provider.Type.ToUpper() == "WEBO")
                                                {
                                                    <a class="icon_type btn_weibo sns-login-link" data-type="@provider.Type" href="@provider.Href" title="@provider.Text" target="_blank"><i class="btn_sns_icontype icon_default_weibo"></i></a>
                                                }
                                            }
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div class="n_links_area">
                            @for (int i = 0; i < AdditionalLinks.Count; i++)
                            {
                                <a class="outer-link" href="@AdditionalLinks[i].Href">@AdditionalLinks[i].Text</a>
                                if (i != AdditionalLinks.Count - 1)
                                {
                                    <span>|</span>
                                }
                            }
                        </div>
                    </div>
                </div>

                <div class="ercode_area" id="login-qrcode">
                    <a class="code_close" href="javascript:void(0);" title="关闭" id="qrcode-close"><span class="icon_code_close"></span></a>
                    <div class="ercode_box">
                        <div class="code_hd">
                            <h3 class="code_tit">帐号扫码登录</h3>
                            <p>请使用微信进行扫码登录</p>
                        </div>
                        <div class="code_iframe">
                            <img src="http://qr.api.cli.im/qr?data=https%253A%252F%252Faccount.xiaomi.com%252Fpass%252FserviceLogin%253Fcallback%253Dhttp%253A%252F%252Fmobet.cn&level=H&transparent=false&bgcolor=%23ffffff&forecolor=%23000000&blockpixel=12&marginblock=1&logourl=&size=280&kid=cliim&key=812d329bddcb13f4b39cd63069285328" />
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
    @* The list of languages should be dynamically loaded. *@

    <div class="n-footer">
        <div class="nf-link-area clearfix">
            <ul class="lang-select-list">
                <li><a href="#" data-lang="zh_CN" class="lang-select-li current">简体</a>|</li>
                <li><a href="#" data-lang="zh_TW" class="lang-select-li">繁体</a>|</li>
                <li><a href="#" data-lang="en" class="lang-select-li">English</a>|</li>
                <li><a href="#" target="_blank">常见问题</a></li>
            </ul>
        </div>
        <p class="nf-intro"><span>版权所有-京ICP备10046444-<a class="beian-record-link" target="_blank" href="#"><span></span>京公网安备11010802020134号</a>-京ICP证110507号</span></p>
    </div>

    @Html.RenderScript("resources/plugins/jquery-2.1.1/jquery.2.1.1.min.js")

</body>
</html>